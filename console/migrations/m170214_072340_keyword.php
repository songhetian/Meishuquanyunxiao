<?php

use yii\db\Migration;

class m170214_072340_keyword extends Migration
{
    const TBL_NAME = '{{%keyword}}';

     /**
     * 创建表选项
     * @var string
     */
    public $tableOptions = null;

    /**
     * 是否创建为事务表
     * @var bool
     */
    public $useTransaction = true;
    
    public function safeUp()
    {
        if ($this->db->driverName === 'mysql') {
            $engine = $this->useTransaction ? 'InnoDB' : 'MyISAM';
            $this->tableOptions = 'CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci ENGINE=' . $engine;
        }

        $this->execute($this->delTable());
        $this->createTable(self::TBL_NAME, [
            'id' => $this->primaryKey()->unsigned()->comment('ID'),
            'type' => $this->smallInteger()->notNull()->comment('类型'),
            'category_id' => $this->smallInteger()->notNull()->comment('分类'),
            'name' => $this->string(20)->notNull()->comment('名称'),
            'priority' => $this->integer()->notNull()->defaultValue(0)->comment('优先级'),

            'created_at' => $this->integer()->notNull()->comment('创建时间'),
            'updated_at' => $this->integer()->notNull()->comment('更新时间'),
            'status' => $this->smallInteger()->notNull()->defaultValue(10)->comment('状态'),
        ], $this->tableOptions);
        $this->execute($this->getKeywordSql());
    }

    private function delTable()
    {
        return "DROP TABLE IF EXISTS ".self::TBL_NAME.";";
    }

    public function safeDown()
    {
        $this->dropTable(self::TBL_NAME);
    }

    private function getKeywordSql()
    {
        return "INSERT INTO `keyword` (`id`, `type`, `category_id`, `name`, `priority`, `created_at`, `updated_at`, `status`) VALUES
        (1, 10, 9, '正面', 1, 1463987935, 1463987935, 10),
        (2, 10, 9, '3/4', 2, 1463987935, 1463987935, 10),
        (3, 10, 9, '侧面', 3, 1463987935, 1463987935, 10),
        (4, 10, 9, '男青年', 4, 1463987935, 1463987935, 10),
        (5, 10, 9, '女青年', 5, 1463987935, 1463987935, 10),
        (6, 10, 9, '男中年', 6, 1463987935, 1463987935, 10),
        (7, 10, 9, '女中年', 7, 1463987935, 1463987935, 10),
        (8, 10, 9, '男老年', 8, 1463987935, 1463987935, 10),
        (9, 10, 9, '女老年', 9, 1463987935, 1463987935, 10),
        (10, 10, 9, '仰视', 10, 1463987935, 1463987935, 10),
        (11, 10, 9, '俯视', 11, 1463987935, 1463987935, 10),

        (12, 10, 10, '陶罐', 1, 1463987935, 1463987935, 10),
        (13, 10, 10, '水果', 2, 1463987935, 1463987935, 10),
        (14, 10, 10, '蔬菜', 3, 1463987935, 1463987935, 10),
        (15, 10, 10, '花卉', 4, 1463987935, 1463987935, 10),
        (16, 10, 10, '生活用品', 5, 1463987935, 1463987935, 10),
        (17, 10, 10, '文具', 6, 1463987935, 1463987935, 10),

        (18, 10, 12, '阿格里巴', 1, 1463987935, 1463987935, 10),
        (19, 10, 12, '伏尔泰', 2, 1463987935, 1463987935, 10),
        (20, 10, 12, '海盗', 3, 1463987935, 1463987935, 10),
        (21, 10, 12, '塔头', 4, 1463987935, 1463987935, 10),
        (22, 10, 12, '美第奇', 5, 1463987935, 1463987935, 10),
        (23, 10, 12, '马赛', 6, 1463987935, 1463987935, 10),
        (24, 10, 12, '荷马', 7, 1463987935, 1463987935, 10),
        (25, 10, 12, '阿里亚斯', 8, 1463987935, 1463987935, 10),
        (26, 10, 12, '布鲁特斯', 9, 1463987935, 1463987935, 10),
        (27, 10, 12, '莫里哀', 10, 1463987935, 1463987935, 10),
        (28, 10, 12, '拉奥孔', 11, 1463987935, 1463987935, 10),
        (29, 10, 12, '巴特农', 12, 1463987935, 1463987935, 10),

        (30, 10, 13, '单个几何体', 1, 1463987935, 1463987935, 10),
        (31, 10, 13, '组合几何体', 2, 1463987935, 1463987935, 10),
        (32, 10, 13, '柱头', 3, 1463987935, 1463987935, 10),

        (33, 10, 15, '陶罐', 1, 1463987935, 1463987935, 10),
        (34, 10, 15, '水果', 2, 1463987935, 1463987935, 10),
        (35, 10, 15, '蔬菜', 3, 1463987935, 1463987935, 10),
        (36, 10, 15, '花卉', 4, 1463987935, 1463987935, 10),
        (37, 10, 15, '生活用品', 5, 1463987935, 1463987935, 10),
        (38, 10, 15, '文具', 6, 1463987935, 1463987935, 10),

        (39, 10, 20, '站', 1, 1463987935, 1463987935, 10),
        (40, 10, 20, '坐', 2, 1463987935, 1463987935, 10),
        (41, 10, 20, '蹲', 3, 1463987935, 1463987935, 10),
        (42, 10, 20, '5分钟', 4, 1463987935, 1463987935, 10),
        (43, 10, 20, '15分钟', 5, 1463987935, 1463987935, 10),
        (44, 10, 20, '30分钟', 6, 1463987935, 1463987935, 10),
        (45, 10, 20, '单人', 7, 1463987935, 1463987935, 10),
        (46, 10, 20, '双人', 8, 1463987935, 1463987935, 10),

        (47, 10, 21, '校园', 1, 1463987935, 1463987935, 10),
        (48, 10, 21, '家庭', 2, 1463987935, 1463987935, 10),
        (49, 10, 21, '体育', 3, 1463987935, 1463987935, 10),
        (50, 10, 21, '旅行', 4, 1463987935, 1463987935, 10),
        (51, 10, 21, '街角', 5, 1463987935, 1463987935, 10),
        (52, 10, 21, '车站', 6, 1463987935, 1463987935, 10),
        (53, 10, 21, '商场', 7, 1463987935, 1463987935, 10),
        (54, 10, 21, '夜市', 8, 1463987935, 1463987935, 10),
        (55, 10, 21, '校园', 9, 1463987935, 1463987935, 10),
        (56, 10, 21, '家庭', 10, 1463987935, 1463987935, 10),
        (57, 10, 21, '街角', 11, 1463987935, 1463987935, 10),
        (58, 10, 21, '视角', 12, 1463987935, 1463987935, 10),
        (59, 10, 21, '动物', 13, 1463987935, 1463987935, 10),

        (60, 10, 22, '校园', 1, 1463987935, 1463987935, 10),
        (61, 10, 22, '家庭', 2, 1463987935, 1463987935, 10),
        (62, 10, 22, '街角', 3, 1463987935, 1463987935, 10),
        (63, 10, 22, '视角', 4, 1463987935, 1463987935, 10),
        (64, 10, 22, '动物', 5, 1463987935, 1463987935, 10),

        (65, 10, 23, '头部', 1, 1463987935, 1463987935, 10),
        (66, 10, 23, '半身', 2, 1463987935, 1463987935, 10),
        (67, 10, 23, '全身', 3, 1463987935, 1463987935, 10),
        (68, 10, 23, '场景', 4, 1463987935, 1463987935, 10),
        (69, 10, 23, '手', 5, 1463987935, 1463987935, 10),
        (70, 10, 23, '脚', 6, 1463987935, 1463987935, 10),

        (71, 10, 25, '光影', 1, 1463987935, 1463987935, 10),
        (72, 10, 25, '节日', 2, 1463987935, 1463987935, 10),
        (73, 10, 25, '时间', 3, 1463987935, 1463987935, 10),
        (74, 10, 25, '季节', 4, 1463987935, 1463987935, 10),
        (75, 10, 25, '气候', 5, 1463987935, 1463987935, 10),
        (76, 10, 25, '校园', 6, 1463987935, 1463987935, 10),
        (77, 10, 25, '家庭', 7, 1463987935, 1463987935, 10),
        (78, 10, 25, '旅行', 8, 1463987935, 1463987935, 10),
        (79, 10, 25, '街角', 9, 1463987935, 1463987935, 10),
        (80, 10, 25, '商场', 10, 1463987935, 1463987935, 10),
        (81, 10, 25, '回忆', 11, 1463987935, 1463987935, 10),
        (82, 10, 25, '视角', 12, 1463987935, 1463987935, 10),

        (83, 10, 26, '光影', 1, 1463987935, 1463987935, 10),
        (84, 10, 26, '节日', 2, 1463987935, 1463987935, 10),
        (85, 10, 26, '时间', 3, 1463987935, 1463987935, 10),
        (86, 10, 26, '季节', 4, 1463987935, 1463987935, 10),
        (87, 10, 26, '气候', 5, 1463987935, 1463987935, 10),
        (88, 10, 26, '校园', 6, 1463987935, 1463987935, 10),
        (89, 10, 26, '家庭', 7, 1463987935, 1463987935, 10),
        (90, 10, 26, '旅行', 8, 1463987935, 1463987935, 10),
        (91, 10, 26, '街角', 9, 1463987935, 1463987935, 10),
        (92, 10, 26, '商场', 10, 1463987935, 1463987935, 10),
        (93, 10, 26, '回忆', 11, 1463987935, 1463987935, 10),
        (94, 10, 26, '视角', 12, 1463987935, 1463987935, 10),
        /******************* 分割线 ***********************/
        (95, 20, 28, '正面', 1, 1463987935, 1463987935, 10),
        (96, 20, 28, '局部', 2, 1463987935, 1463987935, 10),
        (97, 20, 28, '3/4', 3, 1463987935, 1463987935, 10),
        (98, 20, 28, '侧面', 4, 1463987935, 1463987935, 10),
        (99, 20, 28, '男青年', 5, 1463987935, 1463987935, 10),
        (100, 20, 28, '女青年', 6, 1463987935, 1463987935, 10),
        (101, 20, 28, '男中年', 7, 1463987935, 1463987935, 10),
        (102, 20, 28, '女中年', 8, 1463987935, 1463987935, 10),
        (103, 20, 28, '男老年', 9, 1463987935, 1463987935, 10),
        (104, 20, 28, '女老年', 10, 1463987935, 1463987935, 10),
        (105, 20, 28, '仰视', 11, 1463987935, 1463987935, 10),
        (106, 20, 28, '俯视', 12, 1463987935, 1463987935, 10),

        (107, 20, 29, '陶罐', 1, 1463987935, 1463987935, 10),
        (108, 20, 29, '水果', 2, 1463987935, 1463987935, 10),
        (109, 20, 29, '蔬菜', 3, 1463987935, 1463987935, 10),
        (110, 20, 29, '花卉', 4, 1463987935, 1463987935, 10),
        (111, 20, 29, '生活用品', 5, 1463987935, 1463987935, 10),
        (112, 20, 29, '文具', 6, 1463987935, 1463987935, 10),

        (113, 20, 31, '阿格里巴', 1, 1463987935, 1463987935, 10),
        (114, 20, 31, '伏尔泰', 2, 1463987935, 1463987935, 10),
        (115, 20, 31, '海盗', 3, 1463987935, 1463987935, 10),
        (116, 20, 31, '塔头', 4, 1463987935, 1463987935, 10),
        (117, 20, 31, '美第奇', 5, 1463987935, 1463987935, 10),
        (118, 20, 31, '马赛', 6, 1463987935, 1463987935, 10),
        (119, 20, 31, '荷马', 7, 1463987935, 1463987935, 10),
        (120, 20, 31, '阿里亚斯', 8, 1463987935, 1463987935, 10),
        (121, 20, 31, '布鲁特斯', 9, 1463987935, 1463987935, 10),
        (122, 20, 31, '莫里哀', 10, 1463987935, 1463987935, 10),
        (123, 20, 31, '拉奥孔', 11, 1463987935, 1463987935, 10),

        (124, 20, 32, '单个几何体', 1, 1463987935, 1463987935, 10),
        (125, 20, 32, '组合几何体', 2, 1463987935, 1463987935, 10),
        (126, 20, 32, '柱头', 3, 1463987935, 1463987935, 10),

        (127, 20, 34, '陶罐', 1, 1463987935, 1463987935, 10),
        (128, 20, 34, '水果', 2, 1463987935, 1463987935, 10),
        (129, 20, 34, '蔬菜', 3, 1463987935, 1463987935, 10),
        (130, 20, 34, '花卉', 4, 1463987935, 1463987935, 10),
        (131, 20, 34, '生活用品', 5, 1463987935, 1463987935, 10),
        (132, 20, 34, '文具', 6, 1463987935, 1463987935, 10),

        (133, 20, 38, '站', 1, 1463987935, 1463987935, 10),
        (134, 20, 38, '坐', 2, 1463987935, 1463987935, 10),
        (135, 20, 38, '蹲', 3, 1463987935, 1463987935, 10),
        (136, 20, 38, '5分钟', 4, 1463987935, 1463987935, 10),
        (137, 20, 38, '15分钟', 5, 1463987935, 1463987935, 10),
        (138, 20, 38, '30分钟', 6, 1463987935, 1463987935, 10),
        (139, 20, 38, '单人', 7, 1463987935, 1463987935, 10),
        (140, 20, 38, '双人', 8, 1463987935, 1463987935, 10),

        (141, 20, 39, '站', 1, 1463987935, 1463987935, 10),
        (142, 20, 39, '坐', 2, 1463987935, 1463987935, 10),
        (143, 20, 39, '蹲', 3, 1463987935, 1463987935, 10),
        (144, 20, 39, '5分钟', 4, 1463987935, 1463987935, 10),
        (145, 20, 39, '15分钟', 5, 1463987935, 1463987935, 10),
        (146, 20, 39, '30分钟', 6, 1463987935, 1463987935, 10),
        (147, 20, 39, '单人', 7, 1463987935, 1463987935, 10),
        (148, 20, 39, '双人', 8, 1463987935, 1463987935, 10),

        (149, 20, 40, '校园', 1, 1463987935, 1463987935, 10),
        (150, 20, 40, '家庭', 2, 1463987935, 1463987935, 10),
        (151, 20, 40, '体育', 3, 1463987935, 1463987935, 10),
        (152, 20, 40, '旅行', 4, 1463987935, 1463987935, 10),
        (153, 20, 40, '街角', 5, 1463987935, 1463987935, 10),
        (154, 20, 40, '车站', 6, 1463987935, 1463987935, 10),
        (155, 20, 40, '商场', 7, 1463987935, 1463987935, 10),
        (156, 20, 40, '夜市', 8, 1463987935, 1463987935, 10),

        (157, 20, 41, '校园', 1, 1463987935, 1463987935, 10),
        (158, 20, 41, '家庭', 2, 1463987935, 1463987935, 10),
        (159, 20, 41, '街角', 3, 1463987935, 1463987935, 10),
        (160, 20, 41, '视角', 4, 1463987935, 1463987935, 10),
        (161, 20, 41, '动物', 5, 1463987935, 1463987935, 10),

        (162, 20, 42, '校园', 1, 1463987935, 1463987935, 10),
        (163, 20, 42, '家庭', 2, 1463987935, 1463987935, 10),
        (164, 20, 42, '街角', 3, 1463987935, 1463987935, 10),
        (165, 20, 42, '视角', 4, 1463987935, 1463987935, 10),
        (166, 20, 42, '动物', 5, 1463987935, 1463987935, 10),

        (167, 20, 43, '头部', 1, 1463987935, 1463987935, 10),
        (168, 20, 43, '半身', 2, 1463987935, 1463987935, 10),
        (169, 20, 43, '全身', 3, 1463987935, 1463987935, 10),
        (170, 20, 43, '场景', 4, 1463987935, 1463987935, 10),
        (171, 20, 43, '手', 5, 1463987935, 1463987935, 10),
        (172, 20, 43, '脚', 6, 1463987935, 1463987935, 10),

        (173, 20, 45, '节日', 1, 1463987935, 1463987935, 10),
        (174, 20, 45, '时间', 2, 1463987935, 1463987935, 10),
        (175, 20, 45, '季节', 3, 1463987935, 1463987935, 10),
        (176, 20, 45, '气候', 4, 1463987935, 1463987935, 10),
        (177, 20, 45, '校园', 5, 1463987935, 1463987935, 10),
        (178, 20, 45, '家庭', 6, 1463987935, 1463987935, 10),
        (179, 20, 45, '旅行', 7, 1463987935, 1463987935, 10),
        (180, 20, 45, '街角', 8, 1463987935, 1463987935, 10),
        (181, 20, 45, '商场', 9, 1463987935, 1463987935, 10),
        (182, 20, 45, '回忆', 10, 1463987935, 1463987935, 10),
        (183, 20, 45, '视角', 11, 1463987935, 1463987935, 10),

        (184, 20, 46, '光影', 1, 1463987935, 1463987935, 10),
        (185, 20, 46, '节日', 2, 1463987935, 1463987935, 10),
        (186, 20, 46, '时间', 3, 1463987935, 1463987935, 10),
        (187, 20, 46, '季节', 4, 1463987935, 1463987935, 10),
        (188, 20, 46, '气候', 5, 1463987935, 1463987935, 10),
        (189, 20, 46, '校园', 6, 1463987935, 1463987935, 10),
        (190, 20, 46, '家庭', 7, 1463987935, 1463987935, 10),
        (191, 20, 46, '旅行', 8, 1463987935, 1463987935, 10),
        (192, 20, 46, '街角', 9, 1463987935, 1463987935, 10),
        (193, 20, 46, '商场', 10, 1463987935, 1463987935, 10),
        (194, 20, 46, '回忆', 11, 1463987935, 1463987935, 10),
        (195, 20, 46, '视角', 12, 1463987935, 1463987935, 10);";
    }
}